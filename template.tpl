___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Jtracking-logger",
  "categories": ["UTILITY"]
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Log to a console  a JSON string with desired info. Useful for debugging, especially for POST requests.",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "logDestination",
    "displayName": "Logs Destination",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "console",
        "displayValue": "Console"
      }
    ],
    "simpleValueType": true,
    "alwaysInSummary": true,
    "help": "Choose the destination of your logs: \u003cbr\u003e \u003cul\u003e \u003cli\u003eConsole\u003c/li\u003e \u003c/ul\u003e"
  },
  {
    "type": "RADIO",
    "name": "logType",
    "displayName": "Logs Settings",
    "radioItems": [
      {
        "value": "debug",
        "displayValue": "Log during debug and preview"
      },
      {
        "value": "always",
        "displayValue": "Always log"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "always",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "eventName",
    "displayName": "Event Name",
    "simpleValueType": true,
    "help": "It helps to find your event in logs later."
  },
  {
    "type": "CHECKBOX",
    "name": "eventData",
    "checkboxText": "Log all Event Data",
    "simpleValueType": true
  },
  {
    "type": "CHECKBOX",
    "name": "requestUrl",
    "checkboxText": "Log Request Url",
    "simpleValueType": true
  },
  {
    "type": "CHECKBOX",
    "name": "requestBody",
    "checkboxText": "Log Request Body",
    "simpleValueType": true
  },
  {
    "type": "CHECKBOX",
    "name": "requestBodyJson",
    "checkboxText": "Parse Request Body as JSON",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "requestBody",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "customGroup",
    "displayName": "Custom Data",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "custom",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Name",
            "name": "name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Value",
            "name": "value",
            "type": "TEXT"
          }
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_SERVER___

const JSON = require('JSON');
const getAllEventData = require('getAllEventData');
const makeTableMap = require('makeTableMap');
const getRequestHeader = require('getRequestHeader');
const getRequestBody = require('getRequestBody');
const getRequestPath = require('getRequestPath');
const getRequestQueryString = require('getRequestQueryString');
const logToConsole = require('logToConsole');
const getContainerVersion = require('getContainerVersion');
const getTimestampMillis = require('getTimestampMillis');
const getType = require('getType');

const isLoggingEnabled = determinateIsLoggingEnabled();
const traceId = getRequestHeader('trace-id');

/**********************************************************************************************/

// To accomodate a breaking change.
// The previous version before it only had 'console' as a possible destination.
const logDestination = data.logDestination || 'console';

const logDestinationsHandlers = {
  console: log
};

// Key mappings for each log destination
const keyMappings = {
  console: {
    Name: 'Name',
    Type: 'Type',
    TraceId: 'TraceId',
    EventName: 'EventName',
    CustomData: 'CustomData',
    EventData: 'EventData',
    RequestUrl: 'RequestUrl',
    RequestBody: 'RequestBody'
  }
};

if (isLoggingEnabled) {
  const rawData = {
    Name: 'Logger',
    Type: 'Message',
    TraceId: traceId,
    EventName: data.eventName ? data.eventName : 'Logger'
  };

  if (data.custom && data.custom.length > 0) {
    rawData.CustomData = makeTableMap(data.custom, 'name', 'value');
  }

  if (data.eventData) {
    rawData.EventData = getAllEventData();
  }

  if (data.requestUrl) {
    rawData.RequestUrl = getRequestPath();

    const queryString = getRequestQueryString();
    if (queryString !== '') {
      rawData.RequestUrl += '?' + queryString;
    }
  }

  if (data.requestBody) {
    const body = getRequestBody();
    rawData.RequestBody =
      data.requestBodyJson && body ? JSON.parse(body) : body;
  }

  const dataToLog = {};
  const mapping = keyMappings[logDestination];
  for (const key in rawData) {
    const mappedKey = mapping[key] || key;
    dataToLog[mappedKey] = rawData[key];
  }

  const handler = logDestinationsHandlers[logDestination];
  if (handler) handler(dataToLog);
}

data.gtmOnSuccess();

/**********************************************************************************************/

function determinateIsLoggingEnabled() {
  const containerVersion = getContainerVersion();
  const isDebug = containerVersion.debugMode;

  if (!data.logType) {
    return isDebug;
  }

  if (data.logType === 'debug') {
    return isDebug;
  }

  return data.logType === 'always';
}

function log(dataToLog) {
  logToConsole(JSON.stringify(dataToLog));
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "read_request",
        "versionId": "1"
      },
      "param": [
        {
          "key": "requestAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "headerAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queryParameterAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_event_data",
        "versionId": "1"
      },
      "param": [
        {
          "key": "eventDataAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 2026/1/19 10:36:55


